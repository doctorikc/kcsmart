var lastUrl=location.href;new MutationObserver(()=>{const e=location.href;e!==lastUrl&&e.includes("search")&&(lastUrl=e,location.reload())}).observe(document,{subtree:!0,childList:!0});const audio_success=new Audio(chrome.runtime.getURL("./sounds/successbook.mp3")),audio_newloadfound=new Audio(chrome.runtime.getURL("./sounds/new.mp3")),audio_pricechange=new Audio(chrome.runtime.getURL("./sounds/price.mp3"));function priceAudioPlay(){var e=audio_pricechange.play();void 0!==e&&e.then(function(){console.log("New load found! Sound+")}).catch(function(e){console.log(e)})}function newloadAudioPlay(){var e=audio_newloadfound.play();void 0!==e&&e.then(function(){console.log("New load found! Sound+"),r=(new Date).getTime()}).catch(function(e){console.log(e)})}function successAudioPlay(){var e=audio_success.play();void 0!==e&&e.then(function(){console.log("Successfully booked new trip! Sound+")}).catch(function(e){console.log("Audio error")})}var buttonHide='<button id="buttonHide">Hide</button>',buttonShow='<button id="buttonShow">Show</button>',buttonStart='<button id="buttonStart">Start</button>',buttonEnd='<button id="buttonEnd">End</button>',controlButtons='<div id="control_buttons">'+buttonHide+buttonShow+buttonStart+buttonEnd+"</div>";const maxDepHtml='<div class="departure_date_left"><div class="date-time-picker" id="deptimerocket"><div class="row row-class"><div class="col-md-12"><div class="floating-label  form-group"><div class="input-group date" id="mydatetimepicker"><input type="text" placeholder="Max Departure Date & Time" class="form-control"><label>Max Departure Date & Time</label><span class="input-group-addon"><span><i class="fa fa-calendar"></i></span></span></div></div></div></div></div></div>',controlTable='\n<div id="controlTable">\n   <div class="tablecol tablecol_settings">\n      <form id="rocketform">\n  <label>MODES :</label>       <div id="memStatus"></div>\n         <div class="form-group form-group-mod" id="form-group-mod">\n            <input type="radio" id="panel_simple" name="panel_radio" value="simple" checked="checked">\n            <label for="panel_simple" data-toggle="tooltip" data-placement="right" title="Simple notification if load added to loadboard OR price changed">Simple Alert</label>\n            <br>\n            <input type="radio" id="panel_advanced" name="panel_radio" value="info" >\n            <label for="panel_advanced" data-toggle="tooltip" data-placement="right" title="Search and highlight a specific load">Search</label>\n            <br>\n            <input type="radio" id="panel_mod" name="panel_radio" value="autobook">\n            <label for="panel_mod" data-toggle="tooltip" data-placement="right" title="Auto book loads based on filter settings">Auto Book</label>\n         </div>\n         <div class="form-group" id="form-group-qty">\n            <label class="setting_qty" for="panel_quantity" data-toggle="tooltip" data-placement="right" title="Set max number of loads to book before end. No pause if quantity > 1, can book in a row">Max Quantity</label>\n            <input class="setting_qty" type="number" id="panel_quantity" name="panel_quantity" value="1">\n         </div>\n         <div class="form-group" id="form-group-ratechange">\n            <label class="setting_rate" for="panel_priceChangeWanted" data-toggle="tooltip" data-placement="right" title="Sound alert will be triggered when a payout of any visible load increases by the entered amount" >Price Change Alert, +$$</label>\n            <input class="setting_rate" type="number" id="panel_priceChangeWanted" name="panel_priceChangeWanted" value="0">\n         </div>\n         <div class="form-group" id="form-group-buff">\n            <label class="setting_buff" for="panel_buffer" data-toggle="tooltip" data-placement="right" title="Make sure you have enough time to arrive on site without delay">Buffer Time, minutes</label>\n            <input class="setting_buff" type="number" id="panel_buffer" name="panel_buffer" value="20">\n         </div>\n         \x3c!-- <div class="form-group" id="form-group-stops">\n            <label class="setting_stops" for="panel_stops">Stops, max</label>\n            <input class="setting_stops" type="number" id="panel_stops" name="panel_stops" value="10">\n         </div> --\x3e\n         <div class="form-group" id="form-group-dist">\n            <label class="setting_distance" for="panel_distance_from" data-toggle="tooltip" data-placement="right" title="Additional filter. Use it for more accurate search and book">Distance min</label>\n            <input class="setting_distance" type="number" id="panel_distance_from" name="panel_distance" value="0"><br>\n         </div>\n         <div class="form-group" id="form-group-dist2">\n            <label class="setting_distance" for="panel_distance_to" data-toggle="tooltip" data-placement="right" title="Additional filter. Use it for more accurate search and book">Distance max</label>\n            <input class="setting_distance" type="number" id="panel_distance_to" name="panel_distance_to" value="5000">\n         </div>\n         <div class="form-group" id="form-group-random">\n            <label class="setting_random" for="panel_distance_to" data-toggle="tooltip" data-placement="right" title="Set values in ms, 200-5000">Randomizer, ms</label>\n            <input class="setting_random" type="number"  name="panel_randomizer" id="panel_randomizer" value="700">\n         </div>\n         <div class="form-group" id="form-group-time">\n         <label class="setting_time" for="panel_distance_to">Max departure time</label>\n         <div class="date-time-picker" id="deptimerocket"><div class="floating-label  form-group"><div class="input-group date" id="mydatetimepicker"><input type="text" placeholder="Max Departure Date & Time" class="form-control"><span class="input-group-addon"><span><i class="fa fa-calendar"></i></span></span></div></div></div>\n         </div>\n         <div class="form-group" id="form-group-speed">\n            <label for="customRange2" data-toggle="tooltip" data-placement="right" title="Loop speed">Speed</label>\n            <input type="range" value="2" class="custom-range" min="1" max="5" id="speedVal">\n            <div class="form-check" id="form-group-fastbook">\n            <input type="checkbox" class="check-input" name="fastbook" id="fastbook">\n            <label for="fastbook" class="checked-filter-container__text checked-filter-container__text__option">Fast Button</label>\n            </div>\n            <div class="form-check" id="form-group-show">\n            <input type="checkbox" class="check-input" name="show" id="show" checked>\n            <label for="show" class="checked-filter-container__text checked-filter-container__text__option">Auto Expanding</label>\n              </div>\n         </div>\n\n         <div class="form-group" id="form-group-loc">\n            <label class="label_radio_locations"  for="location_mod_select">Locations  (<a href="https://rocketrelaybooker.com/locations/" target="_newtab">info</a>)</label>\n            <select class="custom-select" id="location_mod_select">\n               <option selected>Choose...</option>\n               <option value="states">filter by States (US)</option>\n               <option value="zipcodes">filter by Zipcodes (5 digits)</option>\n               <option value="codes">filter by Facility codes</option>\n            </select>\n            <input class="setting_loc" type="text" name="panel_locations" id="panel_locations" value="">\n            <div class="radio_locations" >\n               \x3c!-- Default checked --\x3e\n               <span class="box_radio_locations">\n               <input type="radio"  id="panel_whitelist" value="whitelist" name="panel_radio_locations" checked>\n               <label class="label_radio_locations"  for="panel_whitelist">Whitelist</label>\n               </span>\n               <span class="box_radio_locations">\n               <input type="radio" id="panel_blacklist" value="blacklist" name="panel_radio_locations">\n               <label class="label_radio_locations" for="panel_blacklist">Exclude</label>\n               </span>\n            </div>\n         </div>\n      </form>\n   </div>\n</div>';$(controlButtons).insertBefore(".available-work").eq(0),$("#buttonEnd").prop("disabled",!0),$(controlTable).insertBefore(".available-work").eq(0),$("#mydatetimepicker").datetimepicker({format:"MM/DD HH:mm",minDate:new Date,sideBySide:!0});let base_config={mod:"simple",bufferTime:"20",qty:"1",distanceNeedMin:0,distanceNeedMax:5e3,speed:1500,currentQty:0,stops:"10",priceChangeWanted:"0",priceChangeStatus:"0",startEndKey:0,maxDepDateTime:2e12,counter:0,randomizer:50,loop:0,locations:"",locationType:"",locationsInEx:"",fastbook:!1,licenseStatus:"",show:""};function modselect(){"Choose..."==$("#location_mod_select").val()?$("#panel_locations").prop("disabled",!0):$("#panel_locations").prop("disabled",!1)}function checkWhatMode(){base_config.mod=$("input[name='panel_radio']:checked").val(),"simple"==base_config.mod&&(console.log(base_config.mod),$("#form-group-ratechange, #form-group-show").show(),$("#form-group-qty, #form-group-buff, #form-group-stops, #form-group-dist, #form-group-dist2, #form-group-loc, #form-group-time").hide(),$("#buttonStart").prop("enable",!1)),"info"==base_config.mod&&(console.log(base_config.mod),$("#form-group-qty, #form-group-ratechange").hide(),$("#form-group-buff, #form-group-stops, #form-group-dist, #form-group-dist2, #form-group-loc, #form-group-time, #form-group-show").show(),1==base_config.licenseStatus?$("#buttonStart").prop("enable",!1):$("#buttonStart").prop("enable",!0)),"autobook"==base_config.mod&&(console.log(base_config.mod),$("#form-group-ratechange, #form-group-show").hide(),$("#form-group-qty, #form-group-buff, #form-group-stops, #form-group-dist, #form-group-dist2, #form-group-loc, #form-group-time").show(),$("#panel_quantity").prop("disabled",!1),1==base_config.licenseStatus?$("#buttonStart").prop("enable",!1):$("#buttonStart").prop("enable",!0))}function removeSimilar(){$(".loadboard-overview__similar-matches__body").remove()}function removeDublicates(e){return e.filter((o,t)=>e.indexOf(o)===t)}function getKeyByValue(e,o){return Object.keys(e).find(t=>e[t]===o)}function convertState(e){return e.length>2?getKeyByValue(listStates,e.toLowerCase()):e.toUpperCase()}function getRandomInt(e){return Math.floor(Math.random()*Math.floor(e))}$("#panel_locations").prop("disabled",!0),$("#location_mod_select").click(function(){modselect()}),checkWhatMode(),$("#controlTable").click(function(){checkWhatMode()}),$("#panel_quantity").blur(function(){!$(this).val()||$(this).val()<1?$(this).css("border","1px solid red"):$(this).css("border","1px solid black")}),$("#panel_priceChangeWanted").blur(function(){!$(this).val()||$(this).val()<0?$(this).css("border","1px solid red"):$(this).css("border","1px solid black")}),$("#panel_buffer").blur(function(){!$(this).val()||$(this).val()<0?$(this).css("border","1px solid red"):$(this).css("border","1px solid black")}),$("#panel_stops").blur(function(){!$(this).val()||$(this).val()<2?$(this).css("border","1px solid red"):$(this).css("border","1px solid black")}),$("#panel_distance_from").blur(function(){!$(this).val()||$(this).val()<0?$(this).css("border","1px solid red"):$(this).css("border","1px solid black")}),$("#panel_distance_to").blur(function(){!$(this).val()||$(this).val()<1?$(this).css("border","1px solid red"):$(this).css("border","1px solid black")}),$(this).on("keypress",function(e){96==e.keyCode&&(0==base_config.startEndKey?(console.log("base_config.startEndKey == 0, start"),base_config.startEndKey=1,$("#buttonStart").click()):($("#buttonEnd").click(),console.log("base_config.startEndKey == 1, end")))});var work=[];function startPrep(){base_config.randomizer>0?(randInt=getRandomInt(base_config.randomizer),delayRandomized=base_config.speed+randInt+50):delayRandomized=base_config.speed}function reload(){$("#filter-summary-panel span[role='img']").eq(1).click(),speedVal=$("#speedVal").val(),1==speedVal&&(base_config.speed=2500),2==speedVal&&(base_config.speed=1500),3==speedVal&&(base_config.speed=800),4==speedVal&&(base_config.speed=500),5==speedVal&&(base_config.speed=200),new MutationObserver(function(e,o){var t=document.getElementsByClassName("wo-card");if(t)return setTimeout(getUpdateData,20),void o.disconnect()}).observe(document,{childList:!0,subtree:!0})}function getDataTable(){base_config.mod=$("input[name='panel_radio']:checked").val(),base_config.bufferTime=6e4*$("#panel_buffer").val(),base_config.randomizer=parseFloat($("#panel_randomizer").val()),base_config.qty=parseFloat($("#panel_quantity").val()),base_config.distanceNeedMin=parseFloat($("#panel_distance_from").val()),base_config.distanceNeedMax=parseFloat($("#panel_distance_to").val()),base_config.priceChangeWanted=parseFloat($("#panel_priceChangeWanted").val()),base_config.locationType=$("#location_mod_select").val(),base_config.locations=$("#panel_locations").val(),base_config.locationsInEx=$("input[name='panel_radio_locations']:checked").val(),base_config.fastbook=$("#fastbook")[0].checked,base_config.show=$("#show")[0].checked,startPrep(),now=new Date,now_year=now.getFullYear(),datePickerVal=$("#mydatetimepicker").find("input").val(),datePickerVal&&(datePickerVal=datePickerVal+" "+now_year,base_config.maxDepDateTime=Date.parse(datePickerVal)),console.log(base_config),"simple"==base_config.mod&&0==base_config.counter&&(watchListLoads=[],watchListLoads=work,console.log("watchListLoads updated: "+watchListLoads.length))}function pauseAutoRefresh(){$(".text-auto-refresh-enabled")&&$(".fa-pause-circle").click()}function getUpdateData(){if(listExpandedLoads=[],"simple"==base_config.mod){function e(){base_config.currentQty++,$("div[aria-describedby='wo-booking-confirmation-modal']").eq(0).find($("button")).eq(2).click(),successAudioPlay(),base_config.currentQty<base_config.qty||stoploop()}if(base_config.counter++,listNewLoads=[],listPriceLoads=[],work.forEach(function(e){var o=watchListLoads.find(o=>o.id==e.id);if($(o).length<1){if(listNewLoads.push(e.id),$("#"+e.id).length);else{const o=(e,t)=>{if(el=document.getElementById(e),el)return t(el);setTimeout(()=>o(e,t),70)};xr=e.id,o(xr,o=>(lateCard=$("#"+e.id),console.log("lateCard"),console.log(lateCard),lateCard.find(">:first-child").css("background-color","#C0EF48"),lateCard.each(function(){$(this).parent().prepend(this)}),1==base_config.show&&(lateCard[0].scrollIntoView(),lateCard.find($(".wo-card-header__components")).eq(0).click()),void(1==base_config.fastbook&&lateCard.find(".wo-book-button").eq(0).text("Fast Book").css({"background-color":"#3d6066",color:"#ffffff"}))))}}1==$(o).length&&(priceDiff=parseFloat((e.payout.value-o.payout.value).toFixed(2)),priceDiff>parseFloat(base_config.priceChangeWanted)&&listPriceLoads.push({id:e.id,priceDiff:priceDiff}))}),$(".wo-book-button").click(function(){$this=$(this),"Fast Book"==$this.text()&&setTimeout(e,50)}),listNewLoads.length){if(removeSimilar(),console.log("listNewLoads+"),$.each(listNewLoads,function(e){item=$("#"+listNewLoads[e]).eq(0),console.log(item),item.find(">:first-child").css("background-color","#C0EF48"),item.each(function(){$(this).parent().prepend(this)}),1==base_config.fastbook&&item.find(".wo-book-button").eq(0).text("Fast Book").css({"background-color":"#3d6066",color:"#ffffff"}),1==base_config.show&&listExpandedLoads.push(work.find(o=>o.id==listNewLoads[e]))}),1==base_config.show){var o=listExpandedLoads.reduce((e,o)=>e.payout.value>o.payout.value?e:o);item=$("#"+o.id).eq(0),item.each(function(){$(this).parent().prepend(this)}),item[0]&&(item[0].scrollIntoView(),item.find($(".wo-card-header__components")).eq(0).click())}newloadAudioPlay(),stoploop()}if(listPriceLoads.length){if(removeSimilar(),console.log("listPriceLoads+"),$.each(listPriceLoads,function(e){listAppPriceId=listPriceLoads[e].id,listAppPricePrice=listPriceLoads[e].priceDiff,item=$("#"+listAppPriceId).eq(0),item.find(">:first-child").css("background-color","#feffbb"),item.each(function(){$(this).parent().prepend(this)}),0==item.parent().find($(".ratech")).length&&item.parent().find($(".tour-header__loadboard")).prepend('<div class="ratech">+'+listAppPricePrice+"</div>"),1==base_config.fastbook&&item.find(".wo-book-button").eq(0).text("Fast Book").css({"background-color":"#3d6066",color:"#ffffff"}),1==base_config.show&&listExpandedLoads.push(work.find(e=>e.id==listAppPriceId))}),1==base_config.show){o=listExpandedLoads.reduce((e,o)=>e.payout.value>o.payout.value?e:o);item=$("#"+o.id).eq(0),item.each(function(){$(this).parent().prepend(this)}),item[0]&&(item[0].scrollIntoView(),item.find($(".wo-card-header__components")).eq(0).click())}priceAudioPlay(),stoploop()}}if(("info"==base_config.mod||"autobook"==base_config.mod)&&(loadRegistar=[],console.log("locations: "+base_config.locations),work.forEach(function(e){function o(e){check=e.every(e=>-1!==locArr.indexOf(e))}function t(e){check=e.some(e=>-1!==locArr.indexOf(e))}freight={},freight.id=e.id,freight.price=e.payout.value.toFixed(2),freight.stops=e.stopCount,freight.distance=e.totalDistance.value.toFixed(2),freight.firstPickupTime=Date.parse(e.firstPickupTime),freight.allZipCodes=[],freight.allLabels=[],freight.allStates=[],Object.values(e.loads).forEach(function(e){Object.values(e.stops).forEach(function(e){freight.allZipCodes.push(e.location.postalCode.slice(0,5)),freight.allLabels.push(e.location.label),freight.allStates.push(convertState(e.location.state))})}),freight.allZipCodes=removeDublicates(freight.allZipCodes),freight.allLabels=removeDublicates(freight.allLabels),freight.allStates=removeDublicates(freight.allStates),nowX=Date.parse(new Date),freight.bufferTime=freight.firstPickupTime-nowX,locationApprove=1,$(".wo-book-button").click(function(){$this=$(this),"Fast Book"==$this.text()&&(base_config.currentQty++,$("div[aria-describedby='wo-booking-confirmation-modal']").eq(0).find($("button")).eq(2).click(),successAudioPlay(),base_config.currentQty<base_config.qty||stoploop())}),base_config.locations&&(locArr=base_config.locations.split(",").map(e=>e.trim()),"states"==base_config.locationType&&(locArr=locArr.map(e=>e.toUpperCase())),"zipcodes"==base_config.locationType&&(locArr=locArr.map(e=>e.slice(0,5))),function(e,a){switch(e){case"states":switch(a){case"whitelist":o(freight.allStates),1==check?locationApprove=1:locationApprove=0;break;case"blacklist":t(freight.allStates),1==check?locationApprove=0:locationApprove=1}break;case"zipcodes":switch(a){case"whitelist":o(freight.allZipCodes),1==check?locationApprove=1:locationApprove=0;break;case"blacklist":t(freight.allZipCodes),1==check?locationApprove=0:locationApprove=1}break;case"codes":switch(a){case"whitelist":o(freight.allLabels),1==check?locationApprove=1:locationApprove=0;break;case"blacklist":t(freight.allLabels),1==check?locationApprove=0:locationApprove=1}}}(base_config.locationType,base_config.locationsInEx)),base_config.stops>=freight.stops&&base_config.distanceNeedMin<=freight.distance&&base_config.distanceNeedMax>=freight.distance&&freight.bufferTime>=base_config.bufferTime&&freight.firstPickupTime<base_config.maxDepDateTime&&1==locationApprove&&loadRegistar.push(freight)}),loadRegistar.length)){function t(){if(removeSimilar(),$.each(loadRegistar,function(e){item=$("#"+loadRegistar[e].id).eq(0),item.find(">:first-child").css("background-color","#9cff9c"),item.each(function(){$(this).parent().prepend(this)}),1==base_config.fastbook&&item.find(".wo-book-button").eq(0).text("Fast Book").css({"background-color":"#3d6066",color:"#ffffff"}),1==base_config.show&&listExpandedLoads.push(work.find(o=>o.id==loadRegistar[e].id))}),1==base_config.show){var e=listExpandedLoads.reduce((e,o)=>e.payout.value>o.payout.value?e:o);item=$("#"+e.id).eq(0),item.each(function(){$(this).parent().prepend(this)}),item[0]&&(item[0].scrollIntoView(),item.find($(".wo-card-header__components")).eq(0).click())}}if("info"==base_config.mod){if(console.log(loadRegistar),$(loadRegistar[0].id).length);else{function a(){lateCard=$("#"+loadRegistar[0].id),console.log("lateCard"),console.log(lateCard),lateCard.find(">:first-child").css("background-color","#9cff9c"),lateCard.each(function(){$(this).parent().prepend(this)}),1==base_config.show&&(lateCard[0].scrollIntoView(),lateCard.find($(".wo-card-header__components")).eq(0).click()),1==base_config.fastbook&&lateCard.find(".wo-book-button").eq(0).text("Fast Book").css({"background-color":"#3d6066",color:"#ffffff"})}const e=(o,t)=>{if(el=document.getElementById(o),el)return t(el);setTimeout(()=>e(o,t),100)};xr=loadRegistar[0].id,e(xr,e=>a())}stoploop(),t(),newloadAudioPlay()}if("autobook"==base_config.mod&&base_config.currentQty<base_config.qty){function i(){base_config.currentQty<base_config.qty?(base_config.currentQty++,console.log("base_config.currentQty: "+base_config.currentQty),$("div[aria-describedby='wo-booking-confirmation-modal']").eq(0).find($("button")).eq(2).click(),base_config.currentQty<base_config.qty||stoploop(),successAudioPlay()):stoploop()}if(base_config.show=!1,t(),console.log(item[0]),console.log(loadRegistar),target=item.find(".wo-book-button").eq(0).click(),target)target.click(),i();else{function a(){lateCard=$("#"+item[0].id),console.log("lateCardautobook"),lateCard.find(">:first-child").css("background-color","#9cff9c"),lateCard.each(function(){$(this).parent().prepend(this)}),lateCard[0].find(".wo-book-button").eq(0).click(),i(),base_config.currentQty<base_config.qty||stoploop()}const e=(o,t)=>{if(el=document.getElementById(o),el)return t(el);setTimeout(()=>e(o,t),50)};xr=item[0].id,e(xr,e=>a())}base_config.currentQty<base_config.qty||stoploop()}}1==base_config.loop?(stopInterval(),engine()):stopInterval()}function engine(){loop=window.setInterval(function(){getDataTable(),setTimeout(reload,30)},delayRandomized)}function stopInterval(){clearInterval(loop)}function stoploop(){stopInterval(),base_config.loop=0,base_config.counter=0}function makeRocketActive(){$("#controlTable").css({"border-left":"8px solid #00a2d8"}),$("#memStatus").html(""),1!=base_config.loop&&$("#controlTable :input").prop("disabled",!1)}function makeRocketOff(){$("#controlTable").css({"border-left":"8px solid #de6e03"}),$("#memStatus").html('License is <span class="badge badge-danger">OFF</span>. <a href="#" class="openPopupHtml">Click on the Rocket extension icon in the upper right corner of the browser</a> and start your 7-day free trial. <br> It takes a lot of work to keep Rocket going by continually creating new features and handling support requests. <br> Your paid membership allows all of this good stuff to continue. <br>Only Simple alert mode is available while license is off.'),$(".openPopupHtml").click(function(){chrome.runtime.sendMessage({type:"openPopupHtml"})})}window.addEventListener("message",function(e){e.data.type&&"injected"==e.data.type&&(work=(work=e.data.text).workOpportunities)},!1),$("#buttonStart").click(function(){base_config.loop=1,base_config.currentQty=0,pauseAutoRefresh(),$("#buttonStart").prop("disabled",!0),$("#controlTable input, .custom-select").attr("disabled",!0),$("#buttonEnd").removeAttr("disabled"),startPrep(),engine()}),$("#buttonEnd").click(function(){$("#buttonEnd").prop("disabled",!0),$("#controlTable input, .custom-select").attr("disabled",!1),modselect(),$("#buttonStart").removeAttr("disabled"),stoploop(),base_config.startEndKey=0}),chrome.runtime.onMessage.addListener(function(e,o,t){return"loggedIn"==e.type?($("#memStatus").html(""),base_config.licenseStatus=e.status,1==base_config.licenseStatus?makeRocketActive():makeRocketOff(),1==$(".available-work").length?$(".control_buttons, #controlTable").show():$(".control_buttons, #controlTable").hide()):"loggedOff"==e.type&&($("#controlTable :input").prop("disabled",!0),$("#memStatus").html('<a href="#" class="openPopupHtml">Click on the Rocket extension icon in the upper right corner of the browser (browser toolbar) </a> and then click Sign In with Google. <br> Then reload the relay page.'),$(".openPopupHtml").click(function(){chrome.runtime.sendMessage({type:"openPopupHtml"})}),1==$(".available-work").length?$(".control_buttons, #controlTable").show():$(".control_buttons, #controlTable").hide()),!0});var listStates={AL:"alabama",AK:"alaska",AZ:"arizona",AR:"arkansas",CA:"california",CO:"colorado",CT:"connecticut",DE:"delaware",DC:"district of columbia",FL:"florida",GA:"georgia",ID:"idaho",IL:"illinois",IN:"indiana",IA:"iowa",KS:"kansas",KY:"kentucky",LA:"louisiana",ME:"maine",MD:"maryland",MA:"massachusetts",MI:"michigan",MN:"minnesota",MS:"mississippi",MO:"missouri",MT:"montana",NE:"nebraska",NV:"nevada",NH:"new hampshire",NJ:"new jersey",NM:"new mexico",NY:"new york",NC:"north carolina",ND:"north dakota",OH:"ohio",OK:"oklahoma",OR:"oregon",PA:"pennsylvania",RI:"rhode island",SC:"south carolina",SD:"south dakota",TN:"tennessee",TX:"texas",UT:"utah",VT:"vermont",VA:"virginia",WA:"washington",WV:"west virginia",WI:"wisconsin",WY:"wyoming"};


// K.c Smart Auto Booker Version (2) = 3.52   . . . By Doctorikc

var currentDate = new Date();
var element = document.getElementById("controlTable"); // K.c Text Color of the Extension 
element.style.color = "White";                       // K.c Text Color of the Extension 

var minDate = new Date('10/20/2021');
var maxDate =  new Date('10/25/2021');
var para = document.createElement("P");  
para.innerHTML = "<br><marquee scrollamount=20 bgColor = #9ED3D6><br><font size =6 >Your Subscription : ACTIVE</font><br></marquue></br>";

var expirationDate = new Date('12/30/2021'); // Expiration variable created by K.c

if (currentDate > expirationDate){
    document.getElementById('control_buttons').innerHTML = "<br><marquee scrollamount=20 bgColor = #9ED3D6><br><font size =6 >Your Subscription : EXPIRED . . . Please login to your account an renew your subscription in order to continue using K.c Smart Auto Booker</font><br></marquue></br>",
    document.getElementById('controlTable').style.display='none',
	document.getElementById('controlTable').style.backgroundColor = '#3d6066',
	document.getElementById('company-name-block').style.backgroundColor = '#3d6066',
	document.getElementById('company-name-block').style.backgroundColor = '#6C1005',
	document.getElementById('buttonHide').style.display='none',
	document.getElementById('buttonShow').style.display='none'
	
}
else{
	document.getElementById("control_buttons").appendChild(para),
	document.getElementById('control_buttons').style.display='false',
	document.getElementById('controlTable').style.display='false',
	document.getElementById('controlTable').style.backgroundColor = '#3d6066',
	document.getElementById('company-name-block').style.backgroundColor = '#045C1D',
	document.getElementById('buttonHide').style.display='block',
	document.getElementById('buttonShow').style.display='none'

}



// Button Hide and Show The Extension Panel . . . By K.c

document.getElementById("buttonHide").onclick = function() {
	
document.getElementById("controlTable").style.display = 'none',
document.getElementById("buttonHide").style.display = 'none',
document.getElementById('buttonShow').style.display='block',
document.getElementsByClassName('create-order__panel')[0].style.visibility='hidden',
document.getElementsByClassName('css-1bpb3sf')[0].style.visibility='hidden'

}
		
document.getElementById("buttonShow").onclick = function() {
  
document.getElementById("controlTable").style.display = 'block',
document.getElementById("buttonHide").style.display = 'block',
document.getElementById('buttonShow').style.display='none' ,
document.getElementsByClassName('create-order__panel')[0].style.visibility='visible',
document.getElementsByClassName('css-1bpb3sf')[0].style.visibility='visible'
  
}
